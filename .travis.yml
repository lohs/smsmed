language: generic
sudo: required
env:
    - RDS_HOSTNAME: $RDS_HOSTNAME
    - RDS_USERNAME: $RDS_USERNAME
    - RDS_PASSWORD: $RDS_PASSWORD
    - RDS_DB_NAME: $RDS_DB_NAME
    - AWS_ACCESS_KEY_ID: $AWS_ACCESS_KEY_ID
    - AWS_SECRET_ACCESS_KEY: $AWS_SECRET_ACCESS_KEY
    - APPLICATION_ID: $APPLICATION_ID
    - ORIGINATION_NUMBER: $ORIGINATION_NUMBER
    
services:
    #tell TravisCI to install docker
    - docker

before_install:
    #-t cicd tags image; use instead of image id
    - docker build -t test -f ./Dockerfile.dev .

script:
    - docker run -e CI=true test npm run start